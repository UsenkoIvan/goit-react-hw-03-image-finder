{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/App.module.css","components/SearchBar/SearchBar.module.css","services/apiHits.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/SearchBar/SearchBar.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","fetchHits","query","page","axios","get","ImageGalleryItem","id","url","tag","isOpenModal","className","styles","onClick","src","alt","ImageGalleryItemImage","ImageGallery","hits","map","webformatURL","tags","key","Button","onClickBtn","type","initialState","SearchBar","state","handleSubmit","e","preventDefault","props","onSubmit","setState","handleChangeInput","target","value","this","Searchbar","SearchForm","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","App","color","height","width","timeout","React","Modal","handleCloseModal","window","addEventListener","children","overlay","modal","error","loading","isShowModal","idImg","fetchAPI","apiHits","then","data","catch","finally","scrollTo","top","document","documentElement","scrollHeight","behavior","handleClickBtn","getLargeURL","item","find","Number","largeImageURL","handleOpenModal","closest","prevProps","prevState","message","length","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.1ef64f50.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2s_Fq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__19WMJ\",\"SearchForm\":\"SearchBar_SearchForm__1k1JW\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3W9N5\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2bY4N\",\"SearchFormInput\":\"SearchBar_SearchFormInput__17jtp\"};","import axios from \"axios\";\n\nexport const fetchHits = (query = \"\", page = 1) =>\n  axios.get(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=15710234-8951b07a1d3bf1777c4958c43&image_type=photo&orientation=horizontal&per_page=12`\n  );\n","import React from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ id, url, tag, isOpenModal }) => {\n  return (\n    <>\n      <li id={id} className={styles.ImageGalleryItem} onClick={isOpenModal}>\n        <img src={url} alt={tag} className={styles.ImageGalleryItemImage} />\n      </li>\n    </>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst ImageGallery = ({ hits, isOpenModal }) => {\n  return (\n    <>\n      <ul className={styles.ImageGallery}>\n        {hits.map(({ id, webformatURL, tags }) => (\n          <ImageGalleryItem\n            key={id}\n            id={id}\n            url={webformatURL}\n            tag={tags}\n            isOpenModal={isOpenModal}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nImageGallery.propTypes = {\n  isOpenModal: PropTypes.func.isRequired,\n  hits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n    })\n  ).isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport styles from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClickBtn }) => {\n  return (\n    <button type=\"button\" className={styles.Button} onClick={onClickBtn}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClickBtn: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport styles from \"./SearchBar.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst initialState = { query: \"\" };\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n  state = {\n    ...initialState,\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState(initialState);\n  };\n\n  handleChangeInput = (e) => {\n    this.setState({\n      query: e.target.value,\n    });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={query}\n            onChange={this.handleChangeInput}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport React from \"react\";\n\nimport Loader from \"react-loader-spinner\";\nexport default class App extends React.Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={3000} //3 secs\n      />\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport styles from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default class Modal extends Component {\n  state = {};\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    children: PropTypes.element.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.addEventListener(\"keydown\", this.handleCloseModal);\n  }\n  handleCloseModal = (e) => {\n    const { onClick } = this.props;\n\n    if (e.key === \"Escape\") {\n      onClick();\n    }\n  };\n\n  render() {\n    const { children, onClick } = this.props;\n    return (\n      <div className={styles.overlay} onClick={onClick}>\n        <div className={styles.modal}>{children}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport * as apiHits from \"../services/apiHits\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Button from \"./Button/Button\";\nimport SearchBar from \"./SearchBar/SearchBar\";\nimport Loader from \"./Loader/Loader\";\nimport Modal from \"./Modal/Modal\";\nimport styles from \"./App.module.css\";\n\nexport default class App extends Component {\n  state = {\n    hits: [],\n    error: null,\n    query: \"\",\n    page: 1,\n    loading: false,\n    isShowModal: false,\n    idImg: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (prevState.page !== page || prevState.query !== query) {\n      if (query !== \"\") {\n        this.fetchAPI();\n      }\n    }\n  }\n\n  onSubmit = (query) => {\n    this.setState({\n      query,\n      page: 1,\n      hits: [],\n    });\n  };\n\n  fetchAPI = () => {\n    const { query, page, hits } = this.state;\n\n    this.setState({\n      loading: true,\n    });\n    apiHits\n      .fetchHits(query, page)\n      .then(({ data }) => {\n        this.setState({\n          hits: [...hits, ...data.hits],\n        });\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.setState({ loading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      });\n  };\n\n  handleClickBtn = () => {\n    const { page } = this.state;\n\n    this.setState({\n      page: page + 1,\n    });\n  };\n\n  getLargeURL = () => {\n    const { hits, idImg, isShowModal } = this.state;\n\n    const item = hits.find(({ id }) => id === Number(idImg));\n    return isShowModal ? item.largeImageURL : \"\";\n  };\n\n  handleOpenModal = (e) => {\n    this.setState({\n      isShowModal: true,\n      idImg: e.target.closest(\"li\").id,\n    });\n  };\n  handleCloseModal = () => {\n    this.setState({\n      isShowModal: false,\n    });\n  };\n\n  render() {\n    const { error, hits, loading, isShowModal } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <SearchBar onSubmit={this.onSubmit} />\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n        {hits.length > 0 && (\n          <>\n            <ImageGallery hits={hits} isOpenModal={this.handleOpenModal} />\n          </>\n        )}\n\n        {loading && <Loader />}\n\n        {hits.length > 0 && !loading && (\n          <Button onClickBtn={this.handleClickBtn} />\n        )}\n\n        {isShowModal && (\n          <Modal onClick={this.handleCloseModal}>\n            <img src={this.getLargeURL()} alt=\"img\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};"],"sourceRoot":""}